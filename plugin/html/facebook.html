<html>
 <head>
   <script src="http://connect.facebook.net/en_US/all.js" type="text/javascript"></script>
   <script type='text/javascript'>
    var userID, accessToken;
    window.onload = function() {
    FB.init({
            appId: '181838945216160',
            status: true,
            cookie: true,
            xfbml: true,
            oauth: true
        });
        FB.getLoginStatus(function(response) {
            if (response.authResponse){
                accessToken = response.authResponse.accessToken;
                userID = response.authResponse.userID;
            } else {
                FB.login(function(r) {
                    if (r.authResponse) {
                        accessToken = r.authResponse.accessToken;
                        userID = r.authResponse.userID;
                    } else {
                        console.log("Why didn't you authenticate?");
                    }
                }, {scope: 'publish_stream'});
            }
            if (accessToken && userID) {
                FB.api('/me/feed', 'post', { message: '{{ text }}' },
                       function (pr) {
                        console.log(pr);
                       });
            } else {
                alert("We did not get credentials from facebook");
            }
        });
    };
       </script>

 </head>

 <body>
    <div id="fb-root"></div>

 </body>

</html>
