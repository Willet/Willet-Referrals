{% extends "base.html" %}

{% block head %}
<style>
    .shopconnection-header {
        height: 62px;
        margin: 10px 0;
    }
    .shopconnection-header img {
        border: 1px solid #93BC8B;
        border-radius: 10px;
        width: 60px;
        height: 60px;
        float: left;
    }
    .shopconnection-header h3 {
        color: #0496AC;
        text-shadow: 1px 1px 1px #FFF;
        line-height: 2em;
        padding-left: 90px;
        margin: 0;
    }
    .box-design {
        background-color: #fff;
    }
    .box-design form {
        padding: 30px;
        margin: 0px 50px auto;
        text-align: center;
    }

    #config-free {
        display: block;
    }

    .config-option, .submit {
        clear: both;
    }

    .config-option {
        display: block;
    }

    label {
        display: inline;
        text-align: right;
    }

    input {
        display: inline;
    }

    #unused-buttons, #default-buttons {
        list-style-type: none;
        margin: 0;
        padding: 0 0 2.5em;
        float: left;
        margin-right: 10px;
        height: 225px;
        width: 150px;
        border: 1px dotted;
    }

    #default-buttons li, #unused-buttons li {
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
    }

</style>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"
        type="text/javascript"></script>
<script>
    $(document).ready(function(){
        $("#default-buttons, #unused-buttons").sortable({
            connectWith: ".connectedSortable",
            update: function(event, ui) {
                var networks = [];
                $("#default-buttons > li").each(function(index, item){
                    networks.push($(item).text());
                });
                $("input[name='button_order']").val(networks.join(","));
            }
        }).disableSelection();
    });
</script>
{% endblock %}

{% block header-class %}tall{% endblock %}

{% block content %}
<div class="span-24 last shopconnection-header">
    <img src="/static/imgs/ShopConnection_icon_60x60.png" />
    <h3>{{ message }}</h3>
</div>

<div class="prepend-top span-24 last box-design content-container">
    <h1>ShopConnection Configuration</h1>

    <div class="prepend-top prepend-3 span-18 append-3 append-bottom last">
        <div class="box-design">
            <form method="POST" action="{{ action }}">
                <div id="config-free">
                    <div class="config-option">
                        <input id="button-count" name="button_count"
                               type="radio"
                               value="True"
                               {% if button_count %}checked{% endif %}/>
                        <label for="button-count">Show button count</label>
                        <input id="no-button-count" name="button_count"
                               type="radio"
                               value="False"
                               {% if not button_count %}checked{% endif %}/>
                        <label for="no-button-count">Hide button count</label>
                    </div>
                    <div class="config-option">
                        <label for="button-spacing">Button Spacing</label>
                        <input id="button-spacing" name="button_spacing"
                               type="text" value="{{ button_spacing }}"/>px
                    </div>
                    <div class="config-option">
                        <label for="button-padding">Button Padding</label>
                        <input id="button-padding" name="button_padding"
                               type="text" value="{{ button_padding }}"/>px
                    </div>
                    <div class="config-option">
                        <label for="sharing-message">Sharing Message</label>
                        <input id="sharing-message" name="sharing_message"
                               type="text" value="{{ sharing_message }}"/>
                        (for Twitter and Pinterest)
                    </div>
                    <div class="config-option">
                        <ul id="default-buttons" class="connectedSortable">
                            {% for button in button_order %}
                            <li>{{ button }}</li>
                            {% endfor %}
                        </ul>

                        <ul id="unused-buttons" class="connectedSortable">
                            {% for button in unused_buttons %}
                            <li>{{ button }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="submit">
                    <input type="hidden" name="button_order"
                           value='{{ button_order|join:"," }}' />
                    <input type="submit"/>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock content %}